import { replaceFancyCharacters, unifySpaceCharacters } from '../src/util/string';

/* eslint-disable no-irregular-whitespace */
describe('String Sanitizers', () => {
    test('Fancy Characters', () => {
        const original = 'the quick brown fox jumps over the lazy dog';
        const inputs = [
            original,
            'ğ”±ğ”¥ğ”¢ ğ”®ğ”²ğ”¦ğ” ğ”¨ ğ”Ÿğ”¯ğ”¬ğ”´ğ”« ğ”£ğ”¬ğ”µ ğ”§ğ”²ğ”ªğ”­ğ”° ğ”¬ğ”³ğ”¢ğ”¯ ğ”±ğ”¥ğ”¢ ğ”©ğ”ğ”·ğ”¶ ğ”¡ğ”¬ğ”¤',
            'ğ–™ğ–ğ–Š ğ––ğ–šğ–ğ–ˆğ– ğ–‡ğ–—ğ–”ğ–œğ–“ ğ–‹ğ–”ğ– ğ–ğ–šğ–’ğ–•ğ–˜ ğ–”ğ–›ğ–Šğ–— ğ–™ğ–ğ–Š ğ–‘ğ–†ğ–Ÿğ– ğ–‰ğ–”ğ–Œ',
            // 'ğŸ‘¹ğŸ†  â“‰ï¼¨ğ’† ğ”®ğ®ğ•€ğ“’Ä· ï½‚ï½’á—ğ”€Î® ğ’‡ğï¼¸ Ê²áµ˜ğ•â“…ğ’ ğ”¬ğ¯ğ’†ğ”¯ ï¼´ğ”¥á—´ Åğ’¶á¶»â“ Äğ•†Ä  â™šâ™ª',
            'ğ“½ğ“±ğ“® ğ“ºğ“¾ğ“²ğ“¬ğ“´ ğ“«ğ“»ğ“¸ğ”€ğ“· ğ“¯ğ“¸ğ” ğ“³ğ“¾ğ“¶ğ“¹ğ“¼ ğ“¸ğ“¿ğ“®ğ“» ğ“½ğ“±ğ“® ğ“µğ“ªğ”ƒğ”‚ ğ“­ğ“¸ğ“°',
            'ğ“‰ğ’½ğ‘’ ğ“†ğ“Šğ’¾ğ’¸ğ“€ ğ’·ğ“‡ğ‘œğ“Œğ“ƒ ğ’»ğ‘œğ“ ğ’¿ğ“Šğ“‚ğ“…ğ“ˆ ğ‘œğ“‹ğ‘’ğ“‡ ğ“‰ğ’½ğ‘’ ğ“ğ’¶ğ“ğ“ ğ’¹ğ‘œğ‘”',
            'ğ•¥ğ•™ğ•– ğ•¢ğ•¦ğ•šğ•”ğ•œ ğ•“ğ•£ğ• ğ•¨ğ•Ÿ ğ•—ğ• ğ•© ğ•›ğ•¦ğ•ğ•¡ğ•¤ ğ• ğ•§ğ•–ğ•£ ğ•¥ğ•™ğ•– ğ•ğ•’ğ•«ğ•ª ğ••ğ• ğ•˜',
            'ï½”ï½ˆï½… ï½‘ï½•ï½‰ï½ƒï½‹ ï½‚ï½’ï½ï½—ï½ ï½†ï½ï½˜ ï½Šï½•ï½ï½ï½“ ï½ï½–ï½…ï½’ ï½”ï½ˆï½… ï½Œï½ï½šï½™ ï½„ï½ï½‡',
            // 'ğŸ“  ğŸ€  ğ“‰ğ’½ğ‘’ ğ“†ğ“Šğ’¾ğ’¸ğ“€ ğ’·ğ“‡ğŸ©ğ“Œğ“ƒ ğ’»â™¡ğ“ ğ’¿ğ“Šğ“‚ğ“…ğ“ˆ ğŸ’ğ“‹ğ‘’ğ“‡ ğ“‰ğ’½ğ‘’ ğ“ğ’¶ğ“ğ“ ğ’¹ğŸ’™ğ‘”  ğŸ€  ğŸ“',
            'á´›Êœá´‡ Qá´œÉªá´„á´‹ Ê™Ê€á´á´¡É´ êœ°á´x á´Šá´œá´á´˜êœ± á´á´ á´‡Ê€ á´›Êœá´‡ ÊŸá´€á´¢Ê á´…á´É¢',
            // 'É“op ÊzÉl ÇÉ¥Ê‡ É¹ÇÊŒo sdÉ¯nÉ¾ xoÉŸ uÊoÉ¹q ÊÉ”Ä±nb ÇÉ¥Ê‡',
            // 'tâƒ£Â Â Â hâƒ£Â Â Â eâƒ£ Â Â Â qâƒ£Â Â Â uâƒ£Â Â Â iâƒ£Â Â Â câƒ£Â Â Â kâƒ£ Â Â Â bâƒ£Â Â Â râƒ£Â Â Â oâƒ£Â Â Â wâƒ£Â Â Â nâƒ£ Â Â Â fâƒ£Â Â Â oâƒ£Â Â Â xâƒ£ Â Â Â jâƒ£Â Â Â uâƒ£Â Â Â mâƒ£Â Â Â pâƒ£Â Â Â sâƒ£ Â Â Â oâƒ£Â Â Â vâƒ£Â Â Â eâƒ£Â Â Â râƒ£ Â Â Â tâƒ£Â Â Â hâƒ£Â Â Â eâƒ£ Â Â Â lâƒ£Â Â Â aâƒ£Â Â Â zâƒ£Â Â Â yâƒ£ Â Â Â dâƒ£Â Â Â oâƒ£Â Â Â gâƒ£',
            // 'tâƒâ€¯Â Â â€¯hâƒâ€¯Â Â â€¯eâƒ â€¯Â Â â€¯qâƒâ€¯Â Â â€¯uâƒâ€¯Â Â â€¯iâƒâ€¯Â Â â€¯câƒâ€¯Â Â â€¯kâƒ â€¯Â Â â€¯bâƒâ€¯Â Â â€¯râƒâ€¯Â Â â€¯oâƒâ€¯Â Â â€¯wâƒâ€¯Â Â â€¯nâƒ â€¯Â Â â€¯fâƒâ€¯Â Â â€¯oâƒâ€¯Â Â â€¯xâƒ â€¯Â Â â€¯jâƒâ€¯Â Â â€¯uâƒâ€¯Â Â â€¯mâƒâ€¯Â Â â€¯pâƒâ€¯Â Â â€¯sâƒ â€¯Â Â â€¯oâƒâ€¯Â Â â€¯vâƒâ€¯Â Â â€¯eâƒâ€¯Â Â â€¯râƒ â€¯Â Â â€¯tâƒâ€¯Â Â â€¯hâƒâ€¯Â Â â€¯eâƒ â€¯Â Â â€¯lâƒâ€¯Â Â â€¯aâƒâ€¯Â Â â€¯zâƒâ€¯Â Â â€¯yâƒ â€¯Â Â â€¯dâƒâ€¯Â Â â€¯oâƒâ€¯Â Â â€¯gâƒ',
            'ğŸ…ƒğŸ„·ğŸ„´ ğŸ…€ğŸ…„ğŸ„¸ğŸ„²ğŸ„º ğŸ„±ğŸ…ğŸ„¾ğŸ…†ğŸ„½ ğŸ„µğŸ„¾ğŸ…‡ ğŸ„¹ğŸ…„ğŸ„¼ğŸ„¿ğŸ…‚ ğŸ„¾ğŸ……ğŸ„´ğŸ… ğŸ…ƒğŸ„·ğŸ„´ ğŸ„»ğŸ„°ğŸ…‰ğŸ…ˆ ğŸ„³ğŸ„¾ğŸ„¶'
        ];

        for (const input of inputs) {
            const out = replaceFancyCharacters(input).toLowerCase();
            expect(out).toEqual(original);
        }
    });

    test('Invisble Characters', () => {
        const normal = 'This is a long sentence! This can potentially contain weird spaces though :eyes: better be really, really careful! What if someone used these weird spaces to bypass stuff? Thatd be bad!!!';
        const weird = 'This	is aÂ longá…Ÿsentence!á… Thisâ€€canâ€potentiallyâ€‚containâ€ƒweirdâ€„spacesâ€…thoughâ€†:eyes:â€‡betterâ€ˆbeâ€‰really,â€Šreallyâ€¯careful!âŸWhatã€€ifâ €someoneã…¤used theseï»¿weirdï¾ spaces to bypass stuff? Thatd be bad!!!';

        const out = unifySpaceCharacters(weird);
        expect(out).toEqual(normal);
    });
});
